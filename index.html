<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğ”¯ğ”¬ğ”±ğ”ğ”±ğ”¦ğ”¬ğ”«ğğğ‹ğ˜ | High-Authority Monetization</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;500;600&display=swap');
        
        body { font-family: 'Inter', sans-serif; background-color: #f5f5f4; color: #1c1917; }
        h1, h2, h3, .serif { font-family: 'Playfair Display', serif; }
        .chart-container { position: relative; width: 100%; max-width: 800px; margin: 0 auto; height: 300px; }
        .ai-glow { position: relative; }
        .ai-glow::after { content: ''; position: absolute; inset: -2px; background: linear-gradient(45deg, #d6d3d1, #a8a29e); z-index: -1; border-radius: inherit; opacity: 0.3; filter: blur(8px); }
        .tab-active { border-bottom: 2px solid #1c1917; color: #1c1917; font-weight: 700; }
        .loading-shimmer { background: linear-gradient(90deg, #f5f5f4 25%, #e7e5e4 50%, #f5f5f4 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; }
        @keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
        
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        #main-interface { display: none; }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Passcode Overlay -->
    <div id="auth-overlay" class="fixed inset-0 z-[100] bg-stone-100 flex items-center justify-center p-6">
        <div class="max-w-md w-full text-center space-y-8 fade-in">
            <h1 class="text-4xl serif italic text-stone-900 tracking-tighter">ğ”¯ğ”¬ğ”±ğ”ğ”±ğ”¦ğ”¬ğ”«ğğğ‹ğ˜</h1>
            <div class="bg-white p-8 rounded-3xl shadow-xl border border-stone-200">
                <p class="text-xs uppercase tracking-widest font-bold text-stone-400 mb-6">Encrypted Access Required</p>
                <input type="password" id="passcode-input" placeholder="Enter System Passcode" 
                    class="w-full p-4 text-center text-xl tracking-[0.5em] bg-stone-50 border border-stone-200 rounded-2xl focus:ring-2 focus:ring-stone-900 focus:outline-none mb-4">
                <button onclick="verifyPasscode()" class="w-full bg-stone-900 text-white py-4 rounded-2xl font-bold hover:bg-stone-800 transition-all shadow-lg">Authenticate</button>
                <p id="auth-error" class="text-red-500 text-xs mt-4 hidden">Invalid passcode. Access denied.</p>
            </div>
        </div>
    </div>

    <!-- Main Dashboard UI -->
    <div id="main-interface">
        <header class="bg-white border-b border-stone-200 sticky top-0 z-50">
            <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
                <h1 class="text-2xl font-bold tracking-tight">ğ”¯ğ”¬ğ”±ğ”ğ”±ğ”¦ğ”¬ğ”«ğğğ‹ğ˜ <span class="text-stone-400 font-light text-sm sans-serif ml-2 tracking-widest uppercase text-[10px]">Dashboard</span></h1>
                <div class="flex items-center space-x-6">
                    <nav class="hidden md:flex space-x-6 text-[10px] uppercase tracking-widest font-bold text-stone-500">
                        <a href="#ai-studio" class="hover:text-stone-900">Studio</a>
                        <a href="#monetization" class="hover:text-stone-900">Revenue</a>
                        <a href="#roadmap" class="hover:text-stone-900">Roadmap</a>
                    </nav>
                    <div class="relative group">
                        <button class="p-2 hover:bg-stone-100 rounded-full transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-stone-600"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                        </button>
                        <div class="absolute right-0 mt-2 w-48 bg-white border border-stone-200 rounded-xl shadow-xl hidden group-hover:block py-2 z-[60]">
                            <button onclick="updateKey()" class="w-full text-left px-4 py-2 text-xs font-bold text-stone-600 hover:bg-stone-50">Update API Key</button>
                            <button onclick="logout()" class="w-full text-left px-4 py-2 text-xs font-bold text-red-600 hover:bg-red-50">Lock System</button>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <main class="max-w-6xl mx-auto px-4 py-8 w-full space-y-12">
            <!-- AI Strategy Studio -->
            <section id="ai-studio" class="scroll-mt-24 space-y-8">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- AI Content Architect -->
                    <div class="flex-1 bg-white p-6 rounded-2xl border border-stone-200 shadow-sm ai-glow">
                        <h4 class="font-bold text-stone-800 mb-4">âœ¨ Content Architect</h4>
                        <textarea id="ai-prompt" placeholder="Input a theme..." class="w-full h-24 p-4 text-sm bg-stone-50 border-none rounded-xl focus:ring-1 focus:ring-stone-400 mb-4"></textarea>
                        <button onclick="generateThread()" id="btn-generate" class="w-full bg-stone-900 text-white py-3 rounded-xl font-bold hover:opacity-90 transition-all">Generate Strategy Swipe ğŸ§µ</button>
                        <div id="ai-output" class="hidden mt-6 space-y-4 text-sm text-stone-600 border-t border-stone-100 pt-4"></div>
                    </div>

                    <!-- AI Reply Optimizer -->
                    <div class="flex-1 bg-white p-6 rounded-2xl border border-stone-200 shadow-sm">
                        <h4 class="font-bold text-stone-800 mb-4">âœ¨ Reply Optimizer</h4>
                        <textarea id="ai-reply-context" placeholder="Paste post here..." class="w-full h-24 p-3 text-sm border border-stone-200 rounded-lg focus:ring-1 focus:ring-stone-400 mb-4 bg-stone-50"></textarea>
                        <button onclick="generateReply()" id="btn-reply" class="w-full border border-stone-900 text-stone-900 py-3 rounded-xl font-bold hover:bg-stone-50 transition-all">Draft High-Value Reply ğŸ’¬</button>
                        <div id="ai-reply-output" class="hidden mt-6 p-4 bg-stone-50 rounded-lg border border-stone-200 italic text-sm text-stone-700"></div>
                    </div>

                    <!-- AI Revenue Simulator -->
                    <div class="flex-1 bg-white p-6 rounded-2xl border border-stone-200 shadow-sm">
                        <h4 class="font-bold text-stone-800 mb-4">âœ¨ Revenue Simulator</h4>
                        <div class="space-y-4 text-sm">
                            <input type="number" id="sim-followers" value="1200" placeholder="Followers" class="w-full p-2 bg-stone-50 border border-stone-100 rounded">
                            <select id="sim-product" class="w-full p-2 bg-stone-50 border border-stone-100 rounded">
                                <option value="lookbook">Digital Product ($25)</option>
                                <option value="subscription">Subscriptions ($5/mo)</option>
                            </select>
                            <button onclick="simulateRevenue()" id="btn-sim" class="w-full border border-stone-900 py-3 rounded-xl font-bold hover:bg-stone-50">Predict Monthly ROI âœ¨</button>
                            <div id="sim-output" class="text-xs text-stone-500 italic mt-2"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Metrics -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <section class="bg-white p-6 rounded-2xl border border-stone-200">
                    <h3 class="text-xl serif mb-4">Algorithm Weight Tracker</h3>
                    <div class="chart-container"><canvas id="algoChart"></canvas></div>
                </section>
                <div class="bg-stone-900 text-white p-8 rounded-2xl flex flex-col justify-center">
                    <p class="text-stone-400 text-[10px] uppercase tracking-widest font-bold mb-2">Current Revenue Projection</p>
                    <h2 id="current-rev-val" class="text-6xl serif mb-6">$0</h2>
                    <div class="w-full bg-stone-800 rounded-full h-2 mb-2">
                        <div id="rev-progress-bar" class="bg-white h-2 rounded-full transition-all duration-1000" style="width: 0%"></div>
                    </div>
                    <p class="text-[10px] text-stone-500 uppercase tracking-widest">Target: $1,000/mo</p>
                </div>
            </div>
        </main>
    </div>

    <script>
        const SYSTEM_PASSCODE = "2026"; 
        // Use Gemini 1.5 Flash - it's stable and free for public keys
        const MODEL_ID = "gemini-1.5-flash"; 

        // --- Auth Logic ---
        function verifyPasscode() {
            const input = document.getElementById('passcode-input').value;
            if (input === SYSTEM_PASSCODE) {
                localStorage.setItem("AUTH_VERIFIED", "true");
                initializeDashboard();
            } else {
                document.getElementById('auth-error').classList.remove('hidden');
            }
        }

        async function getApiKey() {
            let key = localStorage.getItem("GEMINI_API_KEY");
            if (!key) {
                key = window.prompt("Enter your Gemini API Key (get it from Google AI Studio):");
                if (key) localStorage.setItem("GEMINI_API_KEY", key);
            }
            return key;
        }

        function updateKey() {
            localStorage.removeItem("GEMINI_API_KEY");
            getApiKey().then(() => location.reload());
        }

        function logout() {
            localStorage.removeItem("AUTH_VERIFIED");
            location.reload();
        }

        // --- API Call Core ---
        async function callGemini(prompt, system) {
            const key = await getApiKey();
            if (!key) return "Error: No API Key provided.";

            const endpoint = `https://generativelanguage.googleapis.com/v1beta/models/${MODEL_ID}:generateContent?key=${key}`;
            
            try {
                const response = await fetch(endpoint, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: `SYSTEM INSTRUCTION: ${system}\n\nUSER PROMPT: ${prompt}` }] }]
                    })
                });

                const data = await response.json();
                
                // Detailed error checking for GitHub debugging
                if (data.error) {
                    return `Error from Google: ${data.error.message}`;
                }

                const resultText = data.candidates?.[0]?.content?.parts?.[0]?.text;
                return resultText || "Error: API returned empty response.";

            } catch (err) {
                console.error(err);
                return "Error: Connection failed. Check your internet or API key.";
            }
        }

        // --- UI Actions ---
        async function generateThread() {
            const p = document.getElementById('ai-prompt').value;
            const out = document.getElementById('ai-output');
            if(!p) return;
            out.classList.remove('hidden'); out.innerHTML = '<div class="loading-shimmer h-8 rounded"></div>';
            const res = await callGemini(p, "Write a high-authority X thread hook.");
            out.innerHTML = `<div class="p-4 bg-stone-50 rounded italic">${res}</div>`;
        }

        async function generateReply() {
            const context = document.getElementById('ai-reply-context').value;
            const output = document.getElementById('ai-reply-output');
            if (!context) return;
            output.classList.remove('hidden'); output.innerText = 'Analyzing...';
            const res = await callGemini(context, "Write a sophisticated X reply.");
            output.innerText = res;
        }

        async function simulateRevenue() {
            const count = document.getElementById('sim-followers').value;
            const type = document.getElementById('sim-product').value;
            const out = document.getElementById('sim-output');
            out.innerText = "Simulating...";
            const res = await callGemini(`Project revenue for ${count} followers for ${type}.`, "Provide a single dollar amount and 1 sentence explanation.");
            out.innerText = res;
            const match = res.match(/\$(\d+)/);
            if(match) updateRevenueUI(parseInt(match[1]));
        }

        function updateRevenueUI(val) {
            document.getElementById('current-rev-val').innerText = "$" + val;
            const progress = Math.min((val / 1000) * 100, 100);
            document.getElementById('rev-progress-bar').style.width = progress + "%";
        }

        function initChart() {
            const ctx = document.getElementById('algoChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Reply', 'Bookmark', 'Repost'],
                    datasets: [{
                        data: [13.5, 10, 20],
                        backgroundColor: '#1c1917',
                        borderRadius: 4
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
            });
        }

        function initializeDashboard() {
            document.getElementById('auth-overlay').style.display = 'none';
            document.getElementById('main-interface').style.display = 'block';
            initChart();
        }

        window.onload = () => {
            if (localStorage.getItem("AUTH_VERIFIED") === "true") initializeDashboard();
        };

        document.getElementById('passcode-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') verifyPasscode();
        });
    </script>
</body>
</html>
